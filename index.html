<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Load GeoJSON from Wikipedia dynamically</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    #map {
      width: 500px;
      height: 500px;
    }
  </style>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
  integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
  crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
  integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
  crossorigin=""></script>
</head>
<body>
<div id="map"></div>
<input type="button" value="Load 1st GeoJSON" onclick="fetchGeoJson(firstGeoJson)">
<input type="button" value="Load 2nd GeoJSON" onclick="fetchGeoJson(secondGeoJson)">

<script>

var firstGeoJson={
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "wikidata": "Q1111"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              8.305041790008543,
              47.47982379965097
            ],
            [
              8.305299282073975,
              47.4792799657154
            ],
            [
              8.306259512901306,
              47.47946486988508
            ],
            [
              8.305943012237549,
              47.48000870190672
            ],
            [
              8.305041790008543,
              47.47982379965097
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "wikidata": "Q2222"
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              8.305020332336426,
              47.47986730612262
            ],
            [
              8.305964469909668,
              47.480037706123106
            ],
            [
              8.30590009689331,
              47.48016097386403
            ],
            [
              8.304730653762817,
              47.48050902239492
            ],
            [
              8.305020332336426,
              47.47986730612262
            ]
          ]
        ]
      }
    }
  ]
};
var secondGeoJson={
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              8.305304646492004,
              47.47927634013695
            ],
            [
              8.30468237400055,
              47.480516273381475
            ],
            [
              8.30365240573883,
              47.48066491838504
            ],
            [
              8.302032351493835,
              47.48021535659897
            ],
            [
              8.30314815044403,
              47.47883039207853
            ],
            [
              8.305304646492004,
              47.47927634013695
            ]
          ]
        ]
      }
    }
  ]
}
var jsonLayer;
var mymap;

//Add the base map without any layers.
addLeafletMap();

//Add a Leaflet map to the page
function addLeafletMap() {
  mymap = L.map('map').setView([0, 0], 1);

  L.tileLayer('https://a.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>',
  maxZoom: 18
  }).addTo(mymap);
}

//Apply standard colors to the polygons (all objects or "features" are forwarded to this function)
function style() {
  //color = feature.properties.fill; 
  //console.log(color);
  return {"fillColor": undefined, "opacity": 1, "fillOpacity": 0.7, "color": "#555555", "weight": 2};
}

//Color polygon according to selected district
function onEachFeature(feature, layer) {
  //bind click
  layer.on('click', function (e) {
    //e=event
    //console.log(e);
    //console.log(feature.properties.title);
    //console.log("Anzahl der Koordinaten: " +feature.geometry.coordinates[0].length);
    //console.log("Hier sind die Koordinaten gespeichert: " +feature.geometry.coordinates[0][0][0]);
    //createMapmask(feature);
    //console.log(layer);
    //console.log(layer.options.fillColor);
    //var check=layer.options.fillColor === definePolygonColor(feature);
    //console.log(check);

    /*Check, if the polygon already has a color defined.
    If no OR
    If current color is a different one than the one, which is supposed to be applied:
    --> Color the polygon according to the selected district.
    Else if (i.e. color already defined): Remove the color again. Behaves like on/off toggle
    */

    layer.setStyle({fillColor: "red"});

    //console.log("Wikidata ID: " +feature.properties.wikidata);
  });
}

function fetchGeoJson(inputGeoJson) {
  jsonLayer = L.geoJSON(inputGeoJson, {
    onEachFeature: onEachFeature,
    style: style
  })

  jsonLayer.addTo(mymap);

  //Center and zoom the map on the provided GeoJSON
  mymap.fitBounds(jsonLayer.getBounds());
}

</script>

</body>
</html>